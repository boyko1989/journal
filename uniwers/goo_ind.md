[НАЗАД](../README.md)

# Настройка индексации


> #### Стоит ознакомиться:
>
> - [10 действенных способов заставить Google индексировать ваш сайт](https://ahrefs.com/blog/ru/google-index/)
> - [Спецификации метатега robots, атрибута data-nosnippet и HTTP-заголовка X-Robots-Tag](https://developers.google.com/search/reference/robots_meta_tag?hl=ru)
> - [Инструкция от Google](https://support.google.com/programmable-search/answer/4513925?hl=ru)


## Google

Откройте Google Search Console.
1. Перейдите в Инструмент проверки URL.
1. Вставьте в строку поиска URL-адрес, который вы хотите видеть в индексе Google.
1. Подождите, пока Google проверит адрес.
1. Нажмите кнопку «Запросить индексирование».

Это полезно делать, когда вы публикуете новую статью или страницу. Так вы напрямую сообщаете Google о том, что добавили что-то новое на свой сайт и что поисковику следует взглянуть на это.

Однако непосредственный запрос не поможет решить глубинные проблемы, которые препятствуют индексированию старых страниц. Если это ваш случай, то пройдитесь по приведенному ниже списку, чтобы диагностировать и решить проблему.


### 1) Удалите блокирующие условия из файла robots.txt
Google не индексирует весь ваш сайт? Причиной может быть блокирующее условие в файле robots.txt.

Чтобы проверить эту возможность, перейдите по адресу ваш_сайт.com/robots.txt.

Посмотрите, нет ли в тексте одного из этих фрагментов:

```html
User-agent: Googlebot</p>
<p>Disallow: /
```
```html
User-agent: *</p>
<p>Disallow: /
```

Оба этих фрагмента сообщают Гуглботу, что ему нельзя сканировать страницы вашего сайта. Чтобы исправить проблему, просто удалите их. И всё.

Блокирующее условие в файле robots.txt может быть виновным и в том случае, когда Google не индексирует отдельную страницу. Чтобы проверить этот вариант, вставьте адрес страницы в Инструмент проверки URL в Google Search Console. Откройте раздел «Покрытие» и поищите ошибку «Сканирование разрешено? Нет: заблокировано через robots.txt».

Эта ошибка указывает на то, что страница заблокирована в файле robots.txt.

В таком случае поищите в файле robots.txt любые правила «disallow», относящиеся к странице или содержащему ее подкаталогу.

![](https://ahrefs.com/blog/ru/wp-content/uploads/2020/09/image2-3.png)
*Важная страница заблокирована для индексирования в файле robots.txt.*

Если нужно, удалите эти правила.

### 2) Удалите шальные теги noindex
Google не станет индексировать страницы, если попросить об этом. Так вы можете оградить некоторые страницы от публичного доступа. Есть два способа сделать это:

Способ 1: тег meta
Страницы с одним из этих тегов meta в секции ```<head>``` не индексируются Google:

```html
&amp;lt;meta name=“robots” content=“noindex”&amp;gt;
```
```html
&amp;lt;meta name=“googlebot” content=“noindex”&amp;gt;
```
Это мета-тег robots, который сообщает поисковым системам, следует ли им индексировать данную страницу.

**ПРИМЕЧАНИЕ.** Главная часть — это значение “noindex”. Если вы видите его, значит, страница помечена как неиндексируемая.
Чтобы найти на своем сайте все страницы с мета-тегом noindex, запустите сканирование в сервисе [Site Audit от Ahrefs](https://ahrefs.com/site-audit). Перейдите в отчет **Indexability**  («Индексируемость»). Поищите предупреждения «Noindex page» («Неиндексируемая страница»).

![](https://ahrefs.com/blog/ru/wp-content/uploads/2020/09/image3-3.png)

Нажмите на одно из них, чтобы увидеть все такие страницы. Удалите мета-тег noindex со всех страниц, где он не нужен.

#### Способ 2: X‑Robots-Tag
Поисковые роботы также учитывают заголовок HTTP-ответа X‑Robots-Tag. Вы можете реализовать его на скриптовом языке для серверной стороны типа PHP, через файл .htaccess file или через изменение конфигурации своего сервера.

Инструмент проверки URL в Search Console позволяет узнать, блокирует ли Google сканирование страницы из-за заголовка. Просто введите свой URL-адрес, а затем поищите ошибку «Индексирование разрешено? Нет: обнаружено значение ‘noindex’ в HTTP-заголовке X‑Robots-Tag».
![](https://ahrefs.com/blog/ru/wp-content/uploads/2020/09/image4-3.png)

Если вы хотите исправить эту проблему на своем сайте, запустите сканирование в сервисе [Site Audit от Ahrefs](https://ahrefs.com/site-audit), а затем примените фильтр «Robots information in HTTP header» («Информация для роботов в заголовке HTTP») в разделе Page Explorer:
![](https://ahrefs.com/blog/ru/wp-content/uploads/2020/09/image8-3.png)
Попросите своего разработчика исключить страницы, которые нужно индексировать, из числа тех, что возвращают такой заголовок

### 3) Добавьте адрес страницы в файл sitemap
Файл *sitemap* сообщает Google, какие страницы вашего сайта важны, а какие нет. Также он может рекомендовать, как часто следует повторно сканировать определенные страницы.

Google способен находить страницы на вашем сайте независимо от того, представлены ли они в файле sitemap, но хорошей практикой является указание важных страниц. В конце концов, нет смысла усложнять работу Google.

Чтобы проверить, указана ли страница в файле sitemap, используйте Инструмент проверки URL в Search Console. Если вы увидите ошибку «URL нет в индексе Google» и «Sitemap: н/д», значит, страницы нет в файле sitemap или индексе.

![](https://ahrefs.com/blog/ru/wp-content/uploads/2020/09/image18-2.png)

Не пользуетесь Search Console? Перейдите по URL-адресу своего файла sitemap — обычно это ```ваш_сайт.com/sitemap.xml``` — и поищите адрес страницы.
![](https://ahrefs.com/blog/ru/wp-content/uploads/2020/09/image11-3.png)

Либо, если вы хотите найти все сканируемые и индексируемые страницы, которых нет в файле *sitemap*, запустите сканирование в сервисе [Site Audit от Ahrefs](https://ahrefs.com/site-audit). Перейдите в *Page Explorer* и примените следующие фильтры:
![](https://ahrefs.com/blog/ru/wp-content/uploads/2020/09/image13-1.png)

Вы получите список страниц, которые следует добавить в файл *sitemap*. Когда вы это сделаете, сообщите Google о том, что вы обновили свой файл sitemap, перейдя по этому URL:

```http://www.google.com/ping?sitemap=<полный_URL_адрес_файла_sitemap>```

Только подставьте туда URL-адрес своего файла sitemap. Вы увидите что-то подобное:
![](https://ahrefs.com/blog/ru/wp-content/uploads/2020/09/image15-2.png)

Это должно ускорить индексирование страницы поисковой системой.

 

### 4) Удалите шальные теги canonical
Тег каноничности (тег canonical) сообщает Google о канонической версии страницы. Выглядит он так:

```<link rel=“canonical” href=“/страница.html”/>```

Большая часть страниц либо не имеют тега canonical, либо содержат так называемый автореферентный тег canonical. Он сообщает поисковой системе о том, что страница сама является канонической, а возможно, и единственной версией. Другими словами, вы хотите, чтобы эта страница индексировалась.

Но если на страницу затесался шальной тег canonical, он может направить Google на каноническую версию страницы, которая на самом деле не существует. В таком случае страница не будет проиндексирована.

Чтобы проверить такую возможность, воспользуйтесь Инструментом проверки URL от Google. Если тег каноничности указывает на другую страницу, то вы увидите предупреждение «Альтернативная каноническая страница».
![](https://ahrefs.com/blog/ru/wp-content/uploads/2020/09/image17-3.png)

Если такого быть не должно, и вы хотите, чтобы страница индексировалась, удалите тег каноничности.

> **ВАЖНО**
> 
> Имейте в виду, что теги каноничности не всегда плохи. Чаще всего они добавляются не просто так. Если вы видите, что ваша страница содержит такой тег, проверьте страницу, которая указана как каноническая. Если окажется, что это и правда приоритетная версия страницы, которую нужно индексировать, то тег canonical следует оставить.

Если вы хотите быстро найти все шальные теги canonical на своем сайте, запустите сканирование в сервисе Site Audit от Ahrefs. Перейдите в раздел Page Explorer. Используйте такие настройки:

![](https://ahrefs.com/blog/ru/wp-content/uploads/2020/09/image16-2.png)

Они запустят поиск страниц в файле *sitemap* с неавтореферентными тегами каноничности. Если поиск с этим фильтром выдаст какие-либо результаты, вам следует разобраться с ними, поскольку вы наверняка хотели бы, чтобы эти страницы индексировались.

Высока вероятность того, что эти страницы либо содержат ошибочные теги каноничности, либо наоборот — не должны находиться в файле *sitemap*.


***... продолжение в [оригинале](https://ahrefs.com/blog/ru/google-index/) ...***